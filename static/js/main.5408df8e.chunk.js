(this["webpackJsonpsearch-books"]=this["webpackJsonpsearch-books"]||[]).push([[0],{42:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),i=c(20),r=c.n(i),o=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,49)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),i(e),r(e)}))},a=c(23),l=c(9),j=c(8),u=c.n(j),b=c(2),h=c(1),d=function(e){var t=e.book,c=t.title,n=t.first_publish_year,s=t.cover_i,i=t.author_name;return Object(h.jsxs)("div",{class:"results-container",children:[Object(h.jsx)("div",{class:"result-image",children:Object(h.jsx)("img",{src:s?"http://covers.openlibrary.org/b/id/".concat(s,"-M.jpg"):"https://www.adazing.com/wp-content/uploads/2019/02/open-book-clipart-04-300x300.png",alt:"No Cover Found"})}),Object(h.jsxs)("div",{class:"result-info",children:[Object(h.jsx)("h4",{children:c}),Object(h.jsx)("p",{children:n&&"First Published in : ".concat(n)}),Object(h.jsxs)("p",{children:[" ",i&&i.length>0&&"By ".concat(i.join())," "]})]})]})},O=(c(42),function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)("prevText"),r=Object(l.a)(i,2),o=r[0],j=r[1],O=Object(n.useState)([]),p=Object(l.a)(O,2),f=p[0],x=p[1],g=Object(n.useState)(""),v=Object(l.a)(g,2),y=v[0],m=v[1],B=Object(n.useState)(""),k=Object(l.a)(B,2),S=k[0],w=k[1],D=Object(b.d)(),_=Object(b.e)();return Object(n.useEffect)((function(){S&&D.push("/search-books/?".concat(S))}),[D,S]),Object(n.useEffect)((function(){var e=u.a.parse(_.search),t=e.q,c=e.sortBy;if(t&&t!==o&&(s(t),fetch("https://openlibrary.org/search.json?title=".concat(t)).then((function(e){return e.json()})).then((function(e){x(e.docs?e.docs:[]),j(t)}),(function(e){console.log(e)}))),m(c),c){var n=Object(a.a)(f);"title"===c?(n.sort((function(e,t){return e.title.localeCompare(t.title)})),x(n)):"publishDate"===c&&(n.sort((function(e,t){return new Date(e.first_publish_year).getTime()-new Date(t.first_publish_year).getTime()})),x(n))}}),[_.search,o]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{class:"header-container",children:[Object(h.jsxs)("div",{class:"title-item",children:[" ",Object(h.jsx)("h1",{children:"Search Books"})]}),Object(h.jsx)("div",{class:"input-item",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c&&w(u.a.stringify({q:c,sortBy:y}))},children:[Object(h.jsx)("input",{name:"search",type:"text",value:c,onChange:function(e){return s(e.target.value)}}),Object(h.jsx)("button",{type:"submit",name:"searchButton",children:"Search"}),Object(h.jsxs)("label",{children:["Sort By :",Object(h.jsxs)("select",{value:y,onChange:function(e){"title"===e.target.value?w(u.a.stringify({q:c,sortBy:"title"})):"publishDate"===e.target.value?w(u.a.stringify({q:c,sortBy:"publishDate"})):w(u.a.stringify({q:c,sortBy:""}))},children:[Object(h.jsx)("option",{value:""}),Object(h.jsx)("option",{value:"title",children:"Book Title"}),Object(h.jsx)("option",{value:"publishDate",children:"Book First Published Year"})]})]})]})})]}),Object(h.jsx)("div",{children:f.length>0&&f.map((function(e,t){return Object(h.jsx)(d,{book:e},t)}))})]})}),p=c(22);r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(p.a,{children:Object(h.jsx)(O,{})})}),document.getElementById("root")),o()}},[[48,1,2]]]);
//# sourceMappingURL=main.5408df8e.chunk.js.map