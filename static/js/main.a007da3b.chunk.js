(this["webpackJsonpsearch-books"]=this["webpackJsonpsearch-books"]||[]).push([[0],{47:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),i=n(20),s=n.n(i),o=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),i(t),s(t)}))},a=n(23),j=n(9),u=n(8),b=n.n(u),l=n(1),h=n(2),O=function(t){var e=t.book,n=e.title,c=e.first_publish_year,r=e.cover_i,i=e.author_name;return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:"http://covers.openlibrary.org/b/id/".concat(r,"-M.jpg"),alt:""}),Object(h.jsx)("h4",{children:n}),Object(h.jsx)("p",{children:c}),Object(h.jsx)("p",{children:i&&i.length>0&&i.join()})]})},p=function(){var t=Object(c.useState)(""),e=Object(j.a)(t,2),n=e[0],r=e[1],i=Object(c.useState)("prevText"),s=Object(j.a)(i,2),o=s[0],u=s[1],p=Object(c.useState)([]),f=Object(j.a)(p,2),d=f[0],g=f[1],v=Object(c.useState)(""),x=Object(j.a)(v,2),y=x[0],m=x[1],B=Object(c.useState)(""),S=Object(j.a)(B,2),k=(S[0],S[1]),D=(Object(l.d)(),Object(l.e)());return Object(c.useEffect)((function(){var t=b.a.parse(D.search),e=t.q,n=t.sortBy;if(e&&e!==o&&(r(e),fetch("http://openlibrary.org/search.json?title=".concat(e)).then((function(t){return t.json()})).then((function(t){g(t.docs?t.docs:[]),u(e)}),(function(t){console.log(t)}))),m(n),n){var c=Object(a.a)(d);"title"===n?(c.sort((function(t,e){return t.title.localeCompare(e.title)})),g(c)):"publishDate"===n&&(c.sort((function(t,e){return new Date(t.first_publish_year).getTime()-new Date(e.first_publish_year).getTime()})),g(c))}}),[D.search,o]),Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n&&k(b.a.stringify({q:n,sortBy:y}))},children:[Object(h.jsx)("input",{name:"search",type:"text",value:n,onChange:function(t){return r(t.target.value)}}),Object(h.jsx)("button",{type:"submit",name:"searchButton",children:"Search Books"}),Object(h.jsxs)("label",{children:["Sort By:",Object(h.jsxs)("select",{value:y,onChange:function(t){"title"===t.target.value?k(b.a.stringify({q:n,sortBy:"title"})):"publishDate"===t.target.value?k(b.a.stringify({q:n,sortBy:"publishDate"})):k(b.a.stringify({q:n,sortBy:""}))},children:[Object(h.jsx)("option",{value:""}),Object(h.jsx)("option",{value:"title",children:"Book Title"}),Object(h.jsx)("option",{value:"publishDate",children:"Book First Published Year"})]})]}),Object(h.jsx)("div",{children:d.length>0&&d.map((function(t,e){return Object(h.jsx)(O,{book:t},e)}))})]})})},f=n(22);s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(f.a,{children:Object(h.jsx)(p,{})})}),document.getElementById("root")),o()}},[[47,1,2]]]);
//# sourceMappingURL=main.a007da3b.chunk.js.map